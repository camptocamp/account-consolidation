<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_consolidation_check_form" model="ir.ui.view">
        <field name="name">account.consolidation.check.form</field>
        <field name="model">account.consolidation.check</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Consolidation: Checks">
                <field name="state" invisible="True" />
                <div states="open">
                    <label string="Prepare your consolidation and make sure that your consolidation will be correct by proceeding with the checks. The 'Check Periods' verify if fiscal year exists for each subsidiary, and if the periods have the same beginning and ending dates. The 'Check Charts' verify if subsidiary accounts are missing in the Holding's Chart of Accounts."/>
                    <group>
                        <field name="company_id" invisible="False"/>
                        <field name="subsidiary_ids" nolabel="1" required="True" domain="[('parent_id', '=', company_id)]" />
                    </group>
                    <group>
                        <label string="Check accounts : Check consistency between subsidiaries accounts and Holding company consolidation accounts." />
                    </group>
                </div>
                <div states="error,ok">
                    <field name="message" nolabel="1" />
                </div>
                <footer>
                    <button name="check_account_mapping"
                        string="Check accounts " type="object"
                        class="oe_highlight" states="open"/>
                    <button string="OK" class="oe_link" special="cancel" states="error,ok"/>
                    <button string="Cancel" class="oe_link" special="cancel" states="open"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="action_consolidation_checks" model="ir.actions.act_window">
        <field name="name">Consolidation: Checks</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">account.consolidation.check</field>
        <field name="view_type">form</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>

</odoo>
